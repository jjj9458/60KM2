<!-- index.html － 2025-05-04 全面重建版 -->
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>九萬啟插爆聯盟系統</title>
  <!-- 連結外部樣式 -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <!-- ===== 頁首 ===== -->
  <header class="site-header">
    <h1 class="site-title">九萬啟插爆聯盟系統</h1>

    <!-- 右上角功能列 -->
    <div class="site-tools">
      <!-- 語系切換 -->
      <select id="langSwitch">
        <option value="zh">繁體中文</option>
        <option value="en">English</option>
      </select>

      <!-- 管理員設定按鈕：觸發驗證碼 -->
      <button id="adminBtn" type="button">管理員設定</button>
    </div>
  </header>

  <!-- ===== 導覽列／主選項 ===== -->
  <nav class="main-nav">
    <button class="tab-btn active" data-target="tab-form">填寫資料</button>
    <button class="tab-btn" data-target="tab-info">詳細清單</button>
    <!-- 管理員 Tab 初始隱藏；驗證通過後由 JS 移除 hidden -->
    <button class="tab-btn hidden" data-target="tab-admin" id="adminTabBtn">管理員設定</button>
  </nav>

  <!-- ===== 主內容區 ===== -->
  <main class="main-wrapper">

    <!-- ------------ 1. 填寫資料 ------------ -->
    <section id="tab-form" class="tab-page active">
      <h2>填寫遊戲資料</h2>

      <form id="signupForm" class="data-form">
        <!-- 驗證碼 -->
        <label class="form-item">驗證碼：
          <input type="password" id="pwdInput" placeholder="請輸入 0506" required />
        </label>

        <!-- UID（僅限數字） -->
        <label class="form-item">遊戲 UID（數字）：
          <input type="number" id="uidInput" inputmode="numeric" pattern="\d*" required />
        </label>

        <!-- 暱稱 -->
        <label class="form-item">遊戲暱稱：
          <input type="text" id="nameInput" required />
        </label>

        <!-- 排位：段位 & 小段 -->
        <div class="inline-group">
          <label>遊戲排位：
            <select id="rankTier" required>
              <option value="">-- 選段位 --</option>
              <option value="none">無段位</option>
              <option value="iron">黑鐵</option>
              <option value="bronze">青銅</option>
              <option value="silver">白銀</option>
              <option value="gold">黃金</option>
              <option value="platinum">鉑金</option>
              <option value="diamond">鑽石</option>
              <option value="master">大師</option>
              <option value="king">王者</option>
            </select>
          </label>

          <label>
            <select id="rankLevel" required disabled>
              <option value="">-- 小段 --</option>
            </select>
          </label>
        </div>

        <!-- 是否課金 -->
        <label class="form-item">是否能課金選專：
          <select id="canPaySelect" required>
            <option value="">-- 請選擇 --</option>
            <option value="yes">是</option>
            <option value="no">否</option>
          </select>
        </label>

        <!-- 介紹人 -->
        <label class="form-item">介紹人：
          <select id="introSelect" required>
            <option value="">-- 請選擇 --</option>
            <option value="newbie">新人</option>
            <option value="rookie">菜基</option>
            <option value="dumb">傻屌</option>
            <option value="core">核心</option>
          </select>
        </label>

        <!-- 當 intro = 新人 時顯示 -->
        <label id="introNameBox" class="form-item hidden">介紹人名稱：
          <input type="text" id="introNameInput" placeholder="請輸入介紹人名稱" />
        </label>

        <!-- 語言 -->
        <label class="form-item">語言：
          <select id="langSelect" required>
            <option value="zh">中文</option>
            <option value="en">English</option>
          </select>
        </label>

        <!-- 提交 -->
        <button type="button" class="submit-btn" id="submitSignup">提交資料</button>
      </form>
    </section>

    <!-- ------------ 2. 詳細清單 ------------ -->
    <section id="tab-info" class="tab-page">
      <!-- 內容由 app.js 動態產生 -->
      <h2>詳細清單</h2>
      <div id="infoContainer"></div>
    </section>

    <!-- ------------ 3. 管理員設定（預設隱藏） ------------ -->
    <section id="tab-admin" class="tab-page hidden">
      <h2>管理員設定</h2>
      <!-- 可在 app.js 再擴充管理員功能 -->
      <p>管理員專用功能面板，驗證通過後顯示。</p>
    </section>

  </main>

  <!-- ===== 頁腳 ===== -->
  <footer class="site-footer">
    <small>© 2025 插爆提供 — Taiwan is a country.</small>
  </footer>

  <!-- 連結前端腳本 -->
  <script src="js/app.js"></script>

  <!-- ===== 內嵌最小腳本：排位小段動態產生 & Admin 按鈕 ===== -->
  <script>
    /* ---- 動態產生小段 ---- */
    const tierSelect  = document.getElementById('rankTier');
    const levelSelect = document.getElementById('rankLevel');
    tierSelect.addEventListener('change', () => {
      const map = {
        none: 0, king: 0,
        iron: 2, bronze: 3, silver: 3, gold: 3,
        platinum: 4, diamond: 5, master: 3
      };
      const n = map[tierSelect.value] || 0;
      levelSelect.innerHTML = '';
      if (n === 0) {
        levelSelect.disabled = true;
        levelSelect.insertAdjacentHTML('beforeend', '<option value="-">-</option>');
      } else {
        levelSelect.disabled = false;
        levelSelect.insertAdjacentHTML('beforeend', '<option value="">-- 小段 --</option>');
        for (let i = 1; i <= n; i++) {
          levelSelect.insertAdjacentHTML('beforeend', `<option value="${i}">${i}</option>`);
        }
      }
    });

    /* ---- 介紹人為新人時顯示輸入框 ---- */
    const introSelect = document.getElementById('introSelect');
    const introBox    = document.getElementById('introNameBox');
    introSelect.addEventListener('change', () => {
      introBox.classList.toggle('hidden', introSelect.value !== 'newbie');
    });

    /* ---- Admin 按鈕驗證碼 ---- */
    document.getElementById('adminBtn').addEventListener('click', () => {
      const code = prompt('請輸入驗證碼：');
      if (code === '基佬閣') {
        // 顯示 Tab 按鈕 + 頁面
        document.getElementById('adminTabBtn').classList.remove('hidden');
        document.getElementById('tab-admin').classList.remove('hidden');

        // 切換到管理員頁
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
        document.getElementById('adminTabBtn').classList.add('active');
        document.getElementById('tab-admin').classList.add('active');
      } else {
        alert('驗證碼錯誤！');
      }
    });
  </script>
</body>
</html>
